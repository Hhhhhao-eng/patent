### 4.4 前端展示

本系统前端基于 Vue.js + Element UI 框架，聚焦于专利聚类推荐、详情、知识图谱、关系推理、路径发现等功能页面的开发与优化。前端展示部分的主要亮点和实现细节如下：

#### 1. 专利名自动补全与宽松模糊匹配
- 在聚类推荐、关系推理、路径发现等页面，均集成了 `<el-autocomplete>` 自动补全组件，支持用户输入专利名或专利号时的智能提示。
- 自动补全数据源通过后端 `/api/kgpc/entity_list/` 接口获取所有专利名，前端加载后存入 `entityList`，实现本地高效匹配。
- 匹配逻辑支持拼音首字母、全拼、部分匹配、去除空格、标点、全半角、大小写不敏感等多种宽松模糊方式，极大提升了输入容错性和用户体验。
- 典型代码片段：

```vue
<el-autocomplete
  v-model="searchObj.patent_title"
  :fetch-suggestions="querySearchTitle"
  placeholder="请输入专利名称或专利号"
  @select="handleTitleSelect"
  clearable
  style="width: 350px"
/>
```

```js
// 自动补全匹配逻辑
querySearchTitle(queryString, cb) {
  const lowerQuery = queryString.trim().toLowerCase();
  const results = this.entityList.filter(name => {
    return (
      name.includes(queryString) ||
      name.toLowerCase().includes(lowerQuery) ||
      this.getPinyin(name).includes(lowerQuery)
    );
  });
  cb(results.map(name => ({ value: name })));
}
```

#### 2. 专利号查找与高容错性
- 前端通过 `findPidByTitle` 方法，结合后端导出的 `pid_title_map.txt` 文件，实现专利名到专利号的高效查找。
- 匹配逻辑支持多重宽松匹配，若未查到专利号，前端会友好提示“未找到对应专利号，请检查专利名称或选择自动补全项”。
- 典型实现：

```js
async findPidByTitle(title) {
  const response = await fetch('/pid_title_map.txt');
  if (response.ok) {
    const text = await response.text();
    const lines = text.split('\n');
    const normalize = str => str.replace(/\s|\p{P}|\u3000/gu, '').toLowerCase();
    const getPinyin = this.getPinyin;
    const input = normalize(title);
    for (const line of lines) {
      if (!line) continue;
      const [pid, t] = line.split('\t');
      if (!t) continue;
      const tNorm = normalize(t);
      if (
        tNorm === input ||
        t.trim().toLowerCase() === title.trim().toLowerCase() ||
        getPinyin && getPinyin(t).toLowerCase() === getPinyin(title).toLowerCase() ||
        tNorm.includes(input) ||
        getPinyin && getPinyin(t).toLowerCase().includes(getPinyin(title).toLowerCase())
      ) {
        this.searchObj.patent_id = pid;
        this.searchRecommend();
        return;
      }
    }
    this.searchObj.patent_id = '';
  } else {
    this.searchObj.patent_id = '';
  }
}
```

#### 3. 结果展示与交互优化
- 推荐结果、推理结果、路径等均通过 Element UI 的表格、空状态、loading 组件友好展示。
- 支持输入专利号或专利名，均可获得推荐结果，页面跳转、参数传递、接口调用等均保证数据一致性。
- 推荐、推理、路径等页面均有 loading、空状态、错误提示等细节优化。
- 典型代码片段：

```vue
<el-table :data="recommendList" v-loading="loading" style="width: 100%">
  <el-table-column prop="pid" label="专利号" width="120"/>
  <el-table-column prop="title" label="专利名称"/>
  <el-table-column prop="score" label="相似度" width="100" sortable/>
</el-table>
<el-empty v-if="!loading && recommendList.length === 0" description="暂无推荐结果"/>
<el-alert v-if="error" :title="error" type="error" show-icon />
```

#### 4. 静态资源与接口适配
- `pid_title_map.txt` 文件放置于 `public/` 目录，前端通过 `/pid_title_map.txt` 路径直接访问，兼容开发和生产环境。
- 所有后端接口统一封装于 `src/api/patent.js`，便于维护和复用。

#### 5. 用户体验提升
- 自动补全与宽松匹配极大降低了用户输入门槛。
- 推荐、推理、路径等页面均有 loading、空状态、错误提示等细节优化。
- 页面跳转、参数恢复等细节保证了用户操作的连贯性和友好性。

综上，前端展示部分通过智能补全、宽松匹配、友好交互和细致的界面优化，显著提升了系统的易用性和用户体验。